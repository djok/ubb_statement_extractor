# UBB Statement Extractor - Environment Variables
# ================================================
# Copy this file to .env and fill in your values
# NEVER commit the .env file to version control!

# =============================================================================
# REQUIRED SETTINGS
# =============================================================================

# Password for encrypted ZIP files from UBB
# You receive this from your bank when setting up electronic statements
PDF_PASSWORD=

# Google Cloud Storage bucket name for storing statements
# Create this bucket in your GCP project before running
GCS_BUCKET=ubb-statements

# Path to GCP service account credentials JSON file
# The service account needs the following roles:
#   - BigQuery Data Editor (roles/bigquery.dataEditor)
#   - BigQuery Job User (roles/bigquery.jobUser)
#   - Storage Object Admin (roles/storage.objectAdmin)
# For Docker: use /app/secrets/gcp-credentials.json
# For local: use absolute path to your credentials file
GOOGLE_APPLICATION_CREDENTIALS=/app/secrets/gcp-credentials.json

# =============================================================================
# BIGQUERY SETTINGS (Optional - defaults shown)
# =============================================================================

# BigQuery project ID (defaults to the one in service account)
# BIGQUERY_PROJECT_ID=your-project-id

# BigQuery dataset name (will be created if doesn't exist)
# BIGQUERY_DATASET=ubb_statements

# BigQuery location (must match your bucket location)
# BIGQUERY_LOCATION=EU

# =============================================================================
# API SECURITY
# =============================================================================

# API key for /admin/* endpoints
# Generate a secure random string: openssl rand -hex 32
ADMIN_API_KEY=

# =============================================================================
# CLOUDFLARE TUNNEL (Optional - for public access)
# =============================================================================

# Cloudflare Tunnel token for API service
# Get this from Cloudflare Zero Trust dashboard
# TUNNEL_TOKEN=

# Cloudflare Tunnel token for monitoring dashboard (separate tunnel)
# MONITORING_TUNNEL_TOKEN=

# =============================================================================
# ZITADEL OAUTH2/OIDC (Optional - for production authentication)
# =============================================================================

# Zitadel instance URL
# ZITADEL_ISSUER=https://your-instance.zitadel.cloud

# API application Client ID (for FastAPI JWT validation)
# ZITADEL_CLIENT_ID=

# Web application Client ID (for Streamlit OAuth2)
# ZITADEL_WEB_CLIENT_ID=

# OAuth2 redirect URI (your monitoring dashboard URL + /callback)
# ZITADEL_REDIRECT_URI=https://monitoring.example.com/callback

# =============================================================================
# WEBHOOK SECURITY (Optional)
# =============================================================================

# HMAC-SHA256 secret for webhook signature validation
# Only needed if you add a signing proxy in front of Postal
# POSTAL_WEBHOOK_SECRET=

# Shared secret for Cloudflare Email Worker webhook
# Must match WEBHOOK_SECRET in your Cloudflare Worker environment
# Generate with: openssl rand -hex 32
# CLOUDFLARE_WEBHOOK_SECRET=

# Note: FORWARD_TO is configured in Cloudflare Worker settings, not here.
# It's used to forward emails to a verified address after processing.
# Without it, emails show as "Dropped" in Cloudflare Activity Log (which is OK).

# =============================================================================
# LOGGING (Optional)
# =============================================================================

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
# LOG_LEVEL=INFO

# Enable JSON logging format (recommended for production)
# LOG_JSON=true
